<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/><link rel="icon" href="/favicon.png" type="image/png"/><title>GraphQL Firebase on a Custom Domain with Firebase Hosting</title><meta content="Add Firebase Hosting to your GraphQL Firebase function and serve your api up on your own brand." name="description"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/0f63b1889cd5ef8ceb09.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0f63b1889cd5ef8ceb09.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-038f0ad25f6c94d56cb6.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.017c4b60e3e1f640722e.js" as="script"/><link rel="preload" href="/_next/static/chunks/31664189.14c810a99516a2889994.js" as="script"/><link rel="preload" href="/_next/static/chunks/d3071e6a.6de1b3e704db25d01376.js" as="script"/><link rel="preload" href="/_next/static/chunks/09875f0d519b869f04a180ec93651cbe4028bec0.1f52a3ec41a5d5095e70.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-1dd930eee41186aa08e6.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/firebase-hosting-31fcdec0f1ef97f72ac4.js" as="script"/></head><body><div id="__next"><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><a href="/" class="navbar-brand">GraphQL Firebase</a><button aria-controls="navbar" type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="navbar-collapse collapse" id="navbar"><div class="mr-auto navbar-nav"><a href="/features" data-rb-event-key="/features" class="nav-link">Features</a><a href="/installation" data-rb-event-key="/installation" class="nav-link">Getting Started</a><a href="/options" data-rb-event-key="/options" class="nav-link">Options</a><a href="/firebase-hosting" data-rb-event-key="/firebase-hosting" class="nav-link">Custom URL</a></div><div class="navbar-nav"><a href="https://github.com/undefinedai/graphql-firebase" data-rb-event-key="https://github.com/undefinedai/graphql-firebase" class="nav-link"><svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0.198c-4.418 0-8 3.582-8 8 0 3.535 2.292 6.533 5.471 7.591 0.4 0.074 0.547-0.174 0.547-0.385 0-0.191-0.008-0.821-0.011-1.489-2.226 0.484-2.695-0.944-2.695-0.944-0.364-0.925-0.888-1.171-0.888-1.171-0.726-0.497 0.055-0.486 0.055-0.486 0.803 0.056 1.226 0.824 1.226 0.824 0.714 1.223 1.872 0.869 2.328 0.665 0.072-0.517 0.279-0.87 0.508-1.070-1.777-0.202-3.645-0.888-3.645-3.954 0-0.873 0.313-1.587 0.824-2.147-0.083-0.202-0.357-1.015 0.077-2.117 0 0 0.672-0.215 2.201 0.82 0.638-0.177 1.322-0.266 2.002-0.269 0.68 0.003 1.365 0.092 2.004 0.269 1.527-1.035 2.198-0.82 2.198-0.82 0.435 1.102 0.162 1.916 0.079 2.117 0.513 0.56 0.823 1.274 0.823 2.147 0 3.073-1.872 3.749-3.653 3.947 0.287 0.248 0.543 0.735 0.543 1.481 0 1.070-0.009 1.932-0.009 2.195 0 0.213 0.144 0.462 0.55 0.384 3.177-1.059 5.466-4.057 5.466-7.59 0-4.418-3.582-8-8-8z"></path></svg></a><a href="https://www.npmjs.com/package/@undefinedai/graphql-firebase" data-rb-event-key="https://www.npmjs.com/package/@undefinedai/graphql-firebase" class="nav-link"><svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 0v16h16v-16h-16zM13 13h-2v-8h-3v8h-5v-10h10v10z"></path></svg></a></div></div></nav><div class="jumbotron"><div class="container"><div class="row"><div class="col-lg-8 offset-lg-2"><h1 class="display-4">Firebase Hosting</h1><p class="lead">Adding a custom url to your GraphQL server is easy when you integrate Firebase Hosting. Let’s move out of your functions and into <code>firebase.json</code>.</p></div></div></div></div><main class="container"><div class="row"><div class="col-lg-8 offset-lg-2"><p>With your GraphQL Firebase configured in your Firebase Functions, the last step (albeit an optional one) is to connect it to a custom domain name and serve it up on Firebase Hosting. This will provide you with your own branding while still allowing you to take advantage of Firebase’s global autoscaling.</p><p>Once you have<!-- --> <a href="https://firebase.google.com/docs/hosting/quickstart">initialized your hosting on Firebase</a>, you can configure hosting to serve up your Firebase Function by modifying your <code>firebase.json</code>. We’ll assume your Firebase Function is <code>graphql</code> for now, and then explain some options after this example <code>firebase.json</code>.</p><pre class="bg-light p-3"><code><span class="text-muted">// Other firebase.json options here</span><br/>...,
&quot;hosting&quot;: {
  &quot;public&quot;: &quot;{relativePathToFunctionsDirectory}/node_modules/@undefinedai/graphql-firebase/lib/public&quot;,
  &quot;rewrites&quot;: [
    {
      &quot;source&quot;: &quot;**&quot;,
      &quot;function&quot;: &quot;graphql&quot;
    }
  ]
}</code></pre><p>With this configuration, all requests to your url are routed to your <code>graphql</code> Firebase Function. From there, GraphQL Firebase can take over.</p><p>The <code>public</code> folder is required by Firebase Hosting. It can be empty, but it must be defined and present. If you’re not uploading any other static assets, we have included an empty directory you can use like we do in the example.</p><p>If you <em>do</em> include other scripts or files (like if you use<!-- --> <code>additionalRoutes</code> to set a custom favicon, or you reference locally hosted javascript and style files in your custom<!-- --> <code>playgroundTemplate</code>, change this path to your own directory.</p><h2>Using &quot;Local&quot; Assets</h2><p>If in your Firebase Function you reference any script or other assets that will reside in your Firebase Hosting<!-- --> <code>public</code> directory, be mindful of the relative paths.</p><p>When you Firebase Function is served up like we did above, it is as if it’s in the root of your website. So if you want to serve up a custom favicon (for example), you might upload it to your hosting web root but call it in your Firebase Functions with something like this:</p><pre class="bg-light p-3"><code><span class="text-muted">// We use ES6+ and typescript in our projects,<br/>// but you can adjust this to use commonjs</span><br/><br/>import * as functions from &quot;firebase-functions&quot;
import express from &quot;express&quot;

import { GraphQLFirebase } from &quot;@undefinedai/graphql-firebase&quot;

const router = express.Router()

router.use(
  &quot;/favicon.ico&quot;,
  express.static(&quot;/favicon.png&quot;)
)

export const graphql = functions.https.onRequest(GraphQLFirebase({ 
  additionalRoutes: router
}))</code></pre><p>Notice how the path to <code>favicon.png</code> is relative to the hosting root and has nothing to do with where the file is relative to your function’s source code. When your function goes to serve up the favicon to browser requests, express will look for the file at this root path and find the file in your hosting directory.</p></div></div></main><div class="my-5 mx-auto text-center" style="max-width:540px"><hr/><small class="text-muted">Docs updated<!-- --> <!-- -->December 29, 2020, 12:50:24 AM UTC</small></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/firebase-hosting","query":{},"buildId":"2yfUtffXweiofcKGoibzY","nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/chunks/polyfills-088f2db4a64647850150.js"></script><script src="/_next/static/chunks/main-038f0ad25f6c94d56cb6.js" async=""></script><script src="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" async=""></script><script src="/_next/static/chunks/framework.017c4b60e3e1f640722e.js" async=""></script><script src="/_next/static/chunks/31664189.14c810a99516a2889994.js" async=""></script><script src="/_next/static/chunks/d3071e6a.6de1b3e704db25d01376.js" async=""></script><script src="/_next/static/chunks/09875f0d519b869f04a180ec93651cbe4028bec0.1f52a3ec41a5d5095e70.js" async=""></script><script src="/_next/static/chunks/pages/_app-1dd930eee41186aa08e6.js" async=""></script><script src="/_next/static/chunks/pages/firebase-hosting-31fcdec0f1ef97f72ac4.js" async=""></script><script src="/_next/static/2yfUtffXweiofcKGoibzY/_buildManifest.js" async=""></script><script src="/_next/static/2yfUtffXweiofcKGoibzY/_ssgManifest.js" async=""></script></body></html>